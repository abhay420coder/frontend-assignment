"use strict";(self.webpackChunkfrontend_assignment=self.webpackChunkfrontend_assignment||[]).push([[150],{2150:(U,g,n)=>{n.r(g),n.d(g,{MiniappModule:()=>D});var p=n(6814),h=n(6627);function f(i,d,e,o,s,r,l){try{var u=i[r](l),c=u.value}catch(w){return void e(w)}u.done?d(c):Promise.resolve(c).then(o,s)}const b={TODO_URL:n(9090).O.BASE_URL+"todoLists/"};var a=n(95),t=n(4946),m=n(9397),x=n(9862);let T=(()=>{class i{constructor(e){this.http=e}getData(e,o){return this.http.get(e,o).pipe()}postData(e,o,s){return s?this.http.post(e,o,s).pipe((0,m.b)(r=>{},r=>{console.error(r)})):this.http.post(e,o).pipe((0,m.b)(r=>{},r=>{console.error(r)}))}putData(e,o){return this.http.put(e,o)}deleteData(e,o){return this.http.delete(e,o)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(x.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function L(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"li",11)(1,"div",12)(2,"div",13),t._UZ(3,"input",14),t.TgZ(4,"label",15)(5,"p",16),t._uU(6),t.qZA(),t.TgZ(7,"p",17),t._uU(8),t.qZA()()(),t.TgZ(9,"div",18)(10,"button",19),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editTask(r))}),t._uU(11," Edit "),t.qZA(),t.TgZ(12,"button",20),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteTask(r))}),t._uU(13," Delete "),t.qZA()()()()}if(2&i){const e=d.$implicit;t.xp6(6),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description)}}const Z=function(i,d){return{"bg-gray-500 border-gray-500":i,"bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700":d}};let F=(()=>{class i{constructor(e,o){this.api=e,this.fb=o,this.todoLists=[],this.url=b.TODO_URL}ngOnInit(){this.myForm=this.fb.group({id:[""],title:["",[a.kI.required]],description:["",[a.kI.required]]}),this.getTodoLists()}addTask(e){var o=this;return function v(i){return function(){var d=this,e=arguments;return new Promise(function(o,s){var r=i.apply(d,e);function l(c){f(r,o,s,l,u,"next",c)}function u(c){f(r,o,s,l,u,"throw",c)}l(void 0)})}}(function*(){console.log("Valid?",e.valid),console.log("value",e.value),e.value.id||(yield o.postTodoLists(e.value)),e.value.id&&(yield o.updateTodoLists(e.value,e.value.id)),yield o.getTodoLists(),o.myForm.reset()})()}editTask(e){this.myForm.setValue({title:e.title,description:e.description,id:e._id}),console.log("task id  :-    ",e._id)}getTodoLists(){this.api.getData(this.url).subscribe(e=>{console.log("data => ",e),this.todoLists=e})}postTodoLists(e){this.api.postData(this.url,{title:e.title,description:e.description}).subscribe(s=>{console.log("data => ",s),this.getTodoLists()})}updateTodoLists(e,o){this.api.putData(this.url+o,{title:e.title,description:e.description}).subscribe(r=>{console.log("data => ",r),this.getTodoLists()})}deleteTask(e){this.deleteTodoLists(this.url+e._id,{title:e.title,description:e.description})}deleteTodoLists(e,o){this.api.deleteData(e,o).subscribe(s=>{console.log("data => ",s),this.getTodoLists()})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(T),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-to-do-list"]],decls:14,vars:7,consts:[[1,"max-w-md","mx-auto","bg-white","shadow-lg","rounded-lg","overflow-hidden","mt-16"],[1,"px-4","py-2"],[1,"text-gray-800","font-bold","text-2xl","uppercase"],[1,"w-full","max-w-sm","mx-auto","px-4","py-2","flex","flex-col","gap-4",3,"formGroup","ngSubmit"],[1,"flex","items-center","border-b-2","border-teal-500","py-2"],["type","text","formControlName","title","placeholder","Add a task Heading - Manadatory field",1,"appearance-none","bg-transparent","border-none","w-full","text-gray-700","mr-3","py-1","px-2","leading-tight","focus:outline-none"],["type","text","formControlName","description","placeholder","Add a task Description - Manadatory field",1,"appearance-none","bg-transparent","border-none","w-full","text-gray-700","mr-3","py-1","px-2","leading-tight","focus:outline-none"],[1,"flex","justify-end"],["type","submit",1,"flex-shrink-0","text-sm","border-4","text-white","py-1","px-2","rounded",3,"ngClass","disabled"],[1,"divide-y","divide-gray-200","px-4"],["class","py-4",4,"ngFor","ngForOf"],[1,"py-4"],[1,"flex","flex-col"],[1,"flex","items-center"],["id","todo1","name","todo1","type","checkbox",1,"h-4","w-4","text-teal-600","focus:ring-teal-500","border-gray-300","rounded"],["for","todo1",1,"ml-3","block","text-gray-900"],[1,"text-lg","font-medium"],[1,"text-sm","font-light","text-gray-500"],[1,"flex","justify-end","gap-3"],[1,"bg-transparent","hover:bg-blue-500","text-blue-700","font-semibold","hover:text-white","py-2","px-4","border","border-blue-500","hover:border-transparent","rounded",3,"click"],[1,"bg-transparent","hover:bg-red-500","text-red-700","font-semibold","hover:text-white","py-2","px-4","border","border-red-500","hover:border-transparent","rounded",3,"click"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"To-Do List"),t.qZA()(),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return s.addTask(s.myForm)}),t.TgZ(5,"div",4),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",7)(10,"button",8),t._uU(11," Add "),t.qZA()()(),t.TgZ(12,"ul",9),t.YNc(13,L,14,2,"li",10),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("formGroup",s.myForm),t.xp6(6),t.Q6J("ngClass",t.WLB(4,Z,!s.myForm.valid,s.myForm.valid))("disabled",!s.myForm.valid),t.xp6(3),t.Q6J("ngForOf",s.todoLists))},dependencies:[p.mk,p.sg,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return i})();var k=n(6402);const A=[{path:"todo",component:F,data:{title:"Todo App"},canActivate:[(()=>{class i{constructor(e,o){this.router=e,this.authenticationService=o}canActivate(e,o){return!!this.authenticationService.userValue||(this.router.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(h.F0),t.LFG(k.$))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()]},{path:"",redirectTo:"todo",pathMatch:"full"}];let C=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(A),h.Bz]})}return i})(),D=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[p.ez,C,a.UX]})}return i})()}}]);